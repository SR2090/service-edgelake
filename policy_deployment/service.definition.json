{
    "org": "$HZN_ORG_ID",
	"label": "$SERVICE_NAME for $ARCH",
    "description": "A sample AnyLog service to deploy a Master Node",
    "documentation": "https://github.com/open-horizon-services/service-anylog/tree/main/README.md",
    "url": "anylog-node",
    "version": "$SERVICE_VERSION",
    "arch": "$ARCH",
    "sharable": "multiple",
    "requiredServices": [],
    "userInput": [
        {
            "name": "INIT_TYPE",
            "label": "Whether to start docker container with AnyLog/EdgeLake running (prod) or as a shell interface",
            "type": "string",
            "defaultValue": "prod"
        },
        {
            "name": "NODE_TYPE",
            "label": "Information regarding which AnyLog node configurations to enable. By default, even if everything is disabled, AnyLog starts TCP and REST connection protocols",
            "type": "string",
            "defaultValue": "generic"
        },
        {
            "name": "COMPANY_NAME",
            "label": "Owner of the AnyLog instance",
            "type": "string",
            "defaultValue": "New Company"
        },
        {
            "name": "ANYLOG_SERVER_PORT",
            "label": "Port address used by AnyLog's TCP protocol to communicate with other nodes in the network",
            "type": "int",
            "defaultValue": "32548"
        },
        {
            "name": "ANYLOG_REST_PORT",
            "label": "Port address used by AnyLog's REST protocol",
            "type": "int",
            "defaultValue": "32549"
        },
        {
            "name": "ANYLOG_BROKER_PORT",
            "label": "Port value to be used as an MQTT broker, or some other third-party broker",
            "type": "int",
            "defaultValue": ""
        },
        {
            "name": "TCP_BIND",
            "label": "A bool value that determines if to bind to a specific IP and Port (a false value binds to all IPs)",
            "type": "bool",
            "defaultValue": "false"
        },
        {
            "name": "REST_BIND",
            "label": "A bool value that determines if to bind to a specific IP and Port (a false value binds to all IPs)",
            "type": "bool",
            "defaultValue": "false"
        },
        {
            "name": "BROKER_BIND",
            "label": "A bool value that determines if to bind to a specific IP and Port (a false value binds to all IPs)",
            "type": "bool",
            "defaultValue": "false"
        },
        {
            "name": "LEDGER_CONN",
            "label": "TCP connection information for Master Node",
            "type": "string",
            "defaultValue": "127.0.0.1:32048"
        },
        {
            "name": "CLUSTER_NAME",
            "label": "Owner of the cluster",
            "type": "string",
            "defaultValue": "new-company-cluster1"
        },
        {
            "name": "DEFAULT_DBMS",
            "label": "Logical database name",
            "type": "string",
            "defaultValue": "new_company"
        },
        {
            "name": "ENABLE_MQTT",
            "label": "Whether to enable the default MQTT process",
            "type": "bool",
            "defaultValue": "false"
        },
        {
            "name": "DEPLOY_LOCAL_SCRIPT",
            "label": "Whether to automatically run a local (or personalized) script at the end of the process",
            "type": "bool",
            "defaultValue": "false"
        }

    ],
    "deployment": {
        "services": {
            "anylog-node": {
                "image": "anylogco/anylog-network:edgelake",
                "network": "host",
                "binds": [
                    "anylog-node-anylog:/app/AnyLog-Network/anylog",
                    "anylog-node-blockchain:/app/AnyLog-Network/blockchain",
                    "anylog-node-data:/app/AnyLog-Network/data",
                    "anylog-node-local-scripts:/app/deployment-scripts"
                ]

            }
        }
    }
}

{
	"org": "$HZN_ORG_ID",
	"label": "Deployment of AnyLog (Operator) Node",
	"description": "A service to deploy AnyLog with Open Horizon",
	"documentation": "https://github.com/AnyLog-co/documentation/",
	"url": "https://anylog.co",
	"version": "edgelake",
	"arch": "amd64",
	"public": true,
	"sharable": "singleton",
	"requiredServices": [],
	"userInput": [
		{
			"name": "INIT_TYPE",
			"label": "Whether to deploy AnyLog (prod) or Shell interface (bash)",
			"type": "string",
			"defaultValue": "prod"
		},
		{
			"name": "NODE_TYPE",
			"label": "Information regarding which AnyLog node configurations to enable. By default, even if everything is disabled, AnyLog starts TCP and REST connection protocols",
			"type": "string",
			"defaultValue": "operator"
		},
		{
			"name": "NODE_NAME",
			"label": "Name of the AnyLog instance",
			"type": "string",
			"defaultValue": "anylog-operator"
		},
		{
			"name": "COMPANY_NAME",
			"label": "Owner of the AnyLog instance",
			"type": "string",
			"defaultValue": "New Company"
		},
		{
			"name": "ANYLOG_SERVER_PORT",
			"label": "Port address used by AnyLog's TCP protocol to communicate with other nodes in the network",
			"type": "int",
			"defaultValue": 32148
		},
		{
			"name": "ANYLOG_REST_PORT",
			"label": "Port address used by AnyLog's REST protocol",
			"type": "int",
			"defaultValue": 32149
		},
		{
			"name": "ANYLOG_BROKER_PORT",
			"label": "Port address used by AnyLog's broker protocol",
			"type": "int",
			"defaultValue": null
		},
		{
			"name": "TCP_BIND",
			"label": "A bool value that determines if to bind to a specific IP and Port (a false value binds to all IPs)",
			"type": "bool",
			"defaultValue": false
		},
		{
			"name": "REST_BIND",
			"label": "A bool value that determines if to bind to a specific IP and Port (a false value binds to all IPs)",
			"type": "bool",
			"defaultValue": false
		},
		{
			"name": "BROKER_BIND",
			"label": "A bool value that determines if to bind to a specific IP and Port (a false value binds to all IPs)",
			"type": "bool",
			"defaultValue": false
		},
		{
			"name": "LEDGER_CONN",
			"label": "TCP connection information for Master Node",
			"type": "string",
			"defaultValue": "127.0.0.1:32048"
		},
		{
			"name": "CLUSTER_NAME",
			"label": "Owner of the cluster",
			"type": "string",
			"defaultValue": "new-company-cluster1"
		},
		{
			"name": "DEFAULT_DBMS",
			"label": "Logical database name",
			"type": "string",
			"defaultValue": "new_company"
		},
		{
			"name": "ENABLE_MQTT",
			"label": "Whether to enable the default MQTT process",
			"type": "bool",
			"defaultValue": false
		},
		{
			"name": "DEPLOY_LOCAL_SCRIPT",
			"label": "Whether to automatically run a local (or personalized) script at the end of the process",
			"type": "bool",
			"defaultValue": false
		}
	],
	"deployment": {
		"services": {
			"anylog-operator": {
				"image": "anylogco/anylog-network:edgelake",
				"ports": [
					{ "HostIP": "0.0.0.0", "HostPort": "32148:32148/tcp" },
					{ "HostIP": "0.0.0.0", "HostPort": "32149:32149/tcp" },
					{ "HostIP": "0.0.0.0", "HostPort": "32150:32150/tcp" }
				],
				"binds": [
					"anylog-operator-anylog:/app/AnyLog-Network/anylog",
					"anylog-operator-blockchain:/app/AnyLog-Network/blockchain",
					"anylog-operator-data:/app/AnyLog-Network/data",
					"anylog-operator-local-scripts:/app/deployment-scripts"

				]
			}
		}
   }
}
